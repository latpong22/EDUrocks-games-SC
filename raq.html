<!DOCTYPE html>
<html class="dark">
<head>
    <meta charset="UTF-8">
        <title>Request Game - EDUrocks</title>
    <link rel="icon" href="/filestorage/photos/favicon.ico" type="image/x-icon">
    
    <script src="https://cdn.tailwindcss.com"></script>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js?onload=onloadTurnstileCallback" defer></script>

    <style>
        :root {
            --bg-dark: #2C1D27;
            --text-mauve: #D8B4C8;
            --text-light: #F5F5F5;
            --accent-cyan: #A0D2DB;
            --surface-color: rgba(74, 55, 66, 0.5);
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-light);
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='%234A3742' fill-opacity='0.2'%3E%3Cpath d='M0 38.59l2.83-2.83 1.41 1.41L1.41 40H0v-1.41zM0 1.4l2.83 2.83 1.41-1.41L1.41 0H0v1.41zM38.59 40l-2.83-2.83 1.41-1.41L40 38.59V40h-1.41zM40 1.41l-2.83 2.83-1.41-1.41L38.59 0H40v1.41z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }
        .glass-effect {
            background-color: var(--surface-color);
            -webkit-backdrop-filter: blur(12px);
            backdrop-filter: blur(12px);
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .pride-gradient {
            background: linear-gradient(to right, #E40303, #FF8C00, #FFED00, #008026, #004DFF, #750787, #5BCEFA, #F5A9B8);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-fill-color: transparent;
            animation: pride-flow 8s ease infinite;
            background-size: 200% 200%;
        }
        .theme-gradient {
            background: linear-gradient(45deg, #D8B4C8, #A0D2DB, #F5F5F5, #A0D2DB, #D8B4C8);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-fill-color: transparent;
            animation: theme-flow 6s ease infinite;
            background-size: 200% 200%;
        }
        @keyframes pride-flow { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        @keyframes theme-flow { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
    </style>
</head>
<body class="bg-[#2C1D27] text-[#F5F5F5]">

    <div id="app" class="min-h-screen flex flex-col">
        <div class="sticky top-0 z-50 glass-effect">
            <nav class="container mx-auto px-4 lg:px-8 py-4 flex justify-between items-center">
                <a href="index.html" class="flex items-center">
                    <img src="/filestorage/photos/logo.png" class="h-10" onerror="this.onerror=null;this.src='https://placehold.co/150x50/2C1D27/D8B4C8?text=Logo+Not+Found';">
                </a>
                
                <div class="hidden lg:flex items-center space-x-1">
                    <a href="index.html" class="px-3 py-2 text-sm font-medium text-white/80 rounded-full hover:bg-white/10 hover:text-white transition-colors">Home</a>
                    <a href="cdnstuff.html" class="px-3 py-2 text-sm font-medium text-white/80 rounded-full hover:bg-white/10 hover:text-white transition-colors">Games</a>
                    <a href="appstuff.html" class="px-3 py-2 text-sm font-medium text-white/80 rounded-full hover:bg-white/10 hover:text-white transition-colors">Apps</a>
                    <a href="oslinks.html" class="px-3 py-2 text-sm font-medium text-white/80 rounded-full hover:bg-white/10 hover:text-white transition-colors">More Sites</a>
                    <a href="https://s3persistentstoragelucdnapp.eduwing.org/" class="px-3 py-2 text-sm font-medium text-white/80 rounded-full hover:bg-white/10 hover:text-white transition-colors">Unrestricted Browsing</a>
                    <a href="raq.html" class="px-3 py-2 text-sm font-medium text-[#2C1D27] bg-[#D8B4C8] rounded-full hover:bg-[#A0D2DB] transition-colors">Request Game</a>
                    <a href="devlog.html" class="px-3 py-2 text-sm font-medium text-white/80 rounded-full hover:bg-white/10 hover:text-white transition-colors">Updates</a>
                </div>

                <div class="lg:hidden">
                    <button id="mobile-menu-button" class="text-white p-2 rounded-md hover:bg-white/10 focus:outline-none">
                        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                        </svg>
                    </button>
                </div>
            </nav>
            <div id="mobile-menu" class="lg:hidden hidden p-4 space-y-2">
                <a href="index.html" class="block px-4 py-2 text-base font-medium text-white/80 rounded-full hover:bg-white/10 hover:text-white">Home</a>
                <a href="cdnstuff.html" class="block px-4 py-2 text-base font-medium text-white/80 rounded-full hover:bg-white/10 hover:text-white">Games</a>
                <a href="appstuff.html" class="block px-4 py-2 text-base font-medium text-white/80 rounded-full hover:bg-white/10 hover:text-white">Apps</a>
                <a href="oslinks.html" class="block px-4 py-2 text-base font-medium text-white/80 rounded-full hover:bg-white/10 hover:text-white">More Sites</a>
                <a href="https://s3persistentstoragelucdnapp.eduwing.org/" class="block px-4 py-2 text-base font-medium text-white/80 rounded-full hover:bg-white/10 hover:text-white">Unrestricted Browsing</a>
                <a href="raq.html" class="block px-4 py-2 text-base font-medium text-[#2C1D27] bg-[#D8B4C8] rounded-full">Request Game</a>
                <a href="devlog.html" class="block px-4 py-2 text-base font-medium text-white/80 rounded-full hover:bg-white/10 hover:text-white">Updates</a>
            </div>
        </div>

        <div class="flex-grow">
            <section class="container mx-auto px-4 lg:px-8 py-12">
                <div class="text-center mb-12">
                    <h1 class="text-5xl font-extrabold text-[#D8B4C8] tracking-tight">Request a Game</h1>
                    <p class="mt-4 text-lg text-white/70">Have a game you want to see on the site? Let us know!</p>
                </div>

                <div class="max-w-xl mx-auto glass-effect p-8 rounded-2xl">
                    <form id="request-form" class="space-y-6">
                        <div>
                            <label for="name" class="block text-sm font-medium text-white/90 mb-2">Your Name</label>
                            <input type="text" name="name" id="name" required class="w-full bg-[#2C1D27]/80 border border-white/20 rounded-lg p-3 focus:ring-[#D8B4C8] focus:border-[#D8B4C8] transition" placeholder="Hitori Gotoh">
                        </div>
                        
                        <div>
                            <label for="email" class="block text-sm font-medium text-white/90 mb-2">Email (not required)</label>
                            <input type="email" name="email" id="email" class="w-full bg-[#2C1D27]/80 border border-white/20 rounded-lg p-3 focus:ring-[#D8B4C8] focus:border-[#D8B4C8] transition" placeholder="bocchi@therock.org">
                        </div>

                        <div>
                            <label for="message" class="block text-sm font-medium text-white/90 mb-2">What game do you want? (include a link if you have one)</label>
                            <textarea name="message" id="message" required rows="4" class="w-full bg-[#2C1D27]/80 border border-white/20 rounded-lg p-3 focus:ring-[#D8B4C8] focus:border-[#D8B4C8] transition" placeholder="Run 3"></textarea>
                        </div>
                        
                        <div id="turnstile-widget" class="mx-auto flex justify-center"></div>
                        
                        <div class="text-center">
                            <button id="submit-button" type="submit" disabled class="inline-flex items-center justify-center px-8 py-4 text-base font-bold text-[#2C1D27] bg-[#D8B4C8] border border-transparent rounded-full hover:bg-[#A0D2DB] transition-transform hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed">Submit Request</button>
                        </div>
                    </form>
                    <div id="form-status" class="mt-6 text-center text-lg"></div>
                </div>
            </section>
        </div>

        <div class="bg-transparent border-t border-white/10 mt-auto">
            <div class="container mx-auto px-4 lg:px-8 py-8">
                <div class="flex flex-col md:flex-row justify-between items-center gap-6">
                    <div class="text-center md:text-left">
                        <p id="footer-brand-text" class="font-semibold theme-gradient">EDUrocks</p>
                        <img src="/filestorage/photos/pd.svg" class="h-6 mt-1 mx-auto md:mx-0" onerror="this.style.display='none'">
                    </div>
                    <div class="flex flex-wrap justify-center gap-x-6 gap-y-2">
                        <a href="support.html" class="text-sm text-white/60 hover:text-white transition-colors">Supporters/How to Support</a>
                        <a href="part.html" class="text-sm text-white/60 hover:text-white transition-colors">Partner Sites</a>
                        <a href="contact.html" class="text-sm text-white/60 hover:text-white transition-colors">Contact Info</a>
                        <a href="https://stats.uptimerobot.com/z62RCQTD5Q" class="text-sm text-white/60 hover:text-white transition-colors">Uptime</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function onloadTurnstileCallback() {
            turnstile.render('#turnstile-widget', {
                sitekey: '0x4AAAAAABARCsmlPj56WBBG',
                callback: function(token) {
                    const submitButton = document.getElementById('submit-button');
                    if (submitButton) {
                        submitButton.disabled = false;
                    }
                },
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            if(mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                });
            }
        
            const currentDate = new Date();
            const currentMonth = currentDate.getMonth();

            if (currentMonth === 5) {
                const footerText = document.getElementById('footer-brand-text');
                if(footerText) {
                    footerText.classList.add('pride-gradient');
                }
            }

            const form = document.getElementById('request-form');
            const statusMessage = document.getElementById('form-status');
            const submitButton = document.getElementById('submit-button');

            form.addEventListener('submit', async (e) => {
                e.preventDefault();
                submitButton.disabled = true;
                submitButton.textContent = 'Sending...';

                const formData = new FormData(form);

                try {
                    const response = await fetch('https://backendapi.eduwing.org/send_request.php', {
                        method: 'POST',
                        body: formData
                    });

                    const result = await response.json();

                    if (result.success) {
                        statusMessage.textContent = 'Thank you! Your request has been sent.';
                        statusMessage.style.color = 'var(--accent-cyan)';
                        form.reset();
                        turnstile.reset();
                    } else {
                        throw new Error(result.error || 'An unknown error occurred.');
                    }
                } catch (error) {
                    statusMessage.textContent = `Error: ${error.message}`;
                    statusMessage.style.color = '#E40303';
                } finally {
                    submitButton.textContent = 'Submit Request';
                }
            });
        });
    </script>
</body>
</html>
